# IDisposable

Simple IDisposable pattern for NodeJS

# installation

    npm install --save idisposable

# Sources and References

This package - <https://www.npmjs.com/package/idisposable>

Source code and build tools for this package - <https://github.com/SalvatorePreviti/idisposable>

# LICENSES

-   This package is provided as open source software using Apache License.

# API

<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [IDisposable](#idisposable)
    -   [isDisposable](#isdisposable)
    -   [isDisposed](#isdisposed)
    -   [dispose](#dispose)
    -   [tryDispose](#trydispose)
    -   [throwIfDisposed](#throwifdisposed)
    -   [using](#using)
    -   [onIgnoredError](#onignorederror)

## IDisposable

Disposable types and functions

### isDisposable

Returns true if the given object is a disposable object.
An object is disposable if it has a dispose(...), destroy(...) or delete() function.

**Parameters**

-   `instance` **any** 

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** 

### isDisposed

Returns true if the given instance is null, undefined or has isDisposed true.

**Parameters**

-   `instance` **([IDisposable](#idisposable) | null | [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** 

Returns **[boolean](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** True if the object was disposed.

### dispose

Disposes the given instance.

It accepts:

-   An object that has a dispose() method. return instance.dispose();
-   An object that has a destroy() method. return instance.destroy();
-   An object that has a delete() method with zero parameters. return instance.delete();
-   An object that has a close() method. Returns instance.close();
-   A function that returns a disposable. The function is executed.
-   An Promise that resolves to any other cases.
-   An array or iterable of the other cases.

**Parameters**

-   `instances` **...any** 
-   `instance` **...[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;any>** The things to dispose

Returns **any** Result value. May return a Promise if a Promise is passed.

### tryDispose

Tries to dispose the given instance, ignoring any possible error.

It accepts:

-   An object that has a dispose() method. return instance.dispose();
-   An object that has a destroy() method. return instance.destroy();
-   An object that has a delete() method with zero parameters. return instance.delete();
-   An object that has a close() method. Returns instance.close();
-   A function that returns a disposable. The function is executed.
-   An Promise that resolves to any other cases.
-   An array or iterable of the other cases.

**Parameters**

-   `instances` **...any** 
-   `instance` **...[Array](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array)&lt;any>** The things to dispose

Returns **any** Result value. May return a Promise if a Promise is passed.

### throwIfDisposed

Throws an error if the given object is disposed, null or undefined.

**Parameters**

-   `instance` **(DisposableType | null | [undefined](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/undefined))** 
-   `name` **[string](https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String)?** 

Returns **(void | never)** 

### using

Executes a functor or a promise and after it finishes disposes the given instance.
Instance will be disposes both in case of success or of error.
Supports promises.

Parameter instance accepts:

-   An object that has a dispose() method. return instance.dispose();
-   An object that has a destroy() method. return instance.destroy();
-   An object that has a delete() method with zero parameters. return instance.delete();
-   An object that has a close() method. Returns instance.close();
-   An array or iterable of the other cases.

**Parameters**

-   `instance` **any** The instance to use and dispose at the end
-   `functor`  

### onIgnoredError

Callback that is executed when tryDispose eats an error.
Normally does nothing, useful for logging.
